---
import { company } from '../../data/company';
import heroBg from '../../assets/Hintergrund.jpeg'; 
---

<!-- HIER ÄNDERN: Neue Klassen für Bild + Overlay -->
<section class="relative w-full min-h-[70vh] md:min-h-[85vh] flex items-center pt-20 md:pt-0 overflow-hidden">
	
	<!-- 1. Hintergrundbild -->
	<div class="absolute inset-0 z-0">
		<img 
			src={heroBg.src} 
			alt="Hintergrundbild" 
			class="h-full w-full object-cover"
		/>
		<!-- Dunkles Overlay (Blau-Verlauf), damit Text lesbar ist -->
		<div class="absolute inset-0 bg-gradient-to-t from-[rgb(var(--color-primary))] via-[rgb(var(--color-primary))/80] to-transparent opacity-70"></div>
	</div>

	<!-- 2. Inhalt (Text) -->
	<div class="site-container relative z-10 px-4 md:px-0 grid lg:grid-cols-2">
		<div class="pt-12 text-white md:pt-0">
			<!-- Kleines Label oben -->
			<!-- <div class="mb-6 flex items-center gap-3">
				<span class="h-1 w-12 bg-[rgb(var(--color-accent))] rounded-full"></span>
				<span class="text-sm font-bold uppercase tracking-widest text-[rgb(var(--color-accent))]">Ingenieurbüro</span>
			</div> -->

			<!-- Große Überschrift -->
			<!-- <h1 class="mb-6 text-4xl font-bold leading-tight tracking-tight md:text-6xl whitespace-nowrap">
				CAMS INGENIEURE <br />
				<span class="text-[rgb(var(--color-accent))]">CAMS Ingenieure</span>
			</h1> -->
			<h1 class="mb-6 text-3xl md:text-4xl lg:text-6xl font-bold leading-tight tracking-tight min-h-[1.2em]">
				<span id="typewriter-text"></span><span class="animate-blink">|</span><br />
			</h1>

			<!-- Beschreibungstext -->
			<p class="mb-8 max-w-lg text-base md:text-lg lg:text-2xl font-bold leading-relaxed text-white/90 md:text-white/100">
				Ihr Partner für Bauphysik, Energieeffizienz und technische Projektsteuerung
			</p>

			<!-- Buttons -->
			<div class="flex flex-col sm:flex-row flex-wrap gap-4">
				<a 
					class="inline-flex items-center justify-center rounded-xl bg-[rgb(var(--color-accent))] px-8 py-4 text-base font-bold text-white transition-transform hover:scale-105" 
					href="/kontakt"
				>
					Kontakt aufnehmen
				</a>
				<a 
					class="inline-flex items-center justify-center rounded-xl border border-white px-8 py-4 text-base font-medium text-white transition-colors hover:bg-white/10" 
					href="/leistungen"
				>
					Mehr erfahren
				</a>
			</div>
		</div>
	</div>
</section>

<script>
    const text = "CAMS INGENIEURE"; 
    const speed = 180; 
    const deleteSpeed = 140; 
    const waitTime = 2500; 
    
    const element = document.getElementById("typewriter-text");
    
    let i = 0;
    let isDeleting = false;
    
    function type() {
        if (!element) return;
        
        const fullText = text;
        
        if (isDeleting) {
            // Löschen
            element.textContent = fullText.substring(0, i - 1);
            i--;
        } else {
            // Tippen
            element.textContent = fullText.substring(0, i + 1);
            i++;
        }
        
        let currentSpeed = isDeleting ? deleteSpeed : speed;
        
        if (!isDeleting && i === fullText.length) {
            // Fertig getippt -> Warten
            currentSpeed = waitTime;
            isDeleting = true;
        } else if (isDeleting && i === 0) {
            // Fertig gelöscht -> Neu starten
            isDeleting = false;
            currentSpeed = 500;
        }
        
        setTimeout(type, currentSpeed);
    }
        
	type();
</script>

<style>
    /* Blinkender Cursor */
    .animate-blink {
        animation: blink 1s step-end infinite;
    }
    @keyframes blink {
        0%, 100% { opacity: 1; }
        50% { opacity: 0; }
    }
</style>

