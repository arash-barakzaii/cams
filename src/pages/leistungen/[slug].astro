---
import Layout from '../../layouts/Layout.astro';
import { services, type Service } from '../../data/services';

export function getStaticPaths() {
	return services.map((service) => ({
		params: { slug: service.slug },
		props: { service }
	}));
}

type Props = {
	service: Service;
};

const { service } = Astro.props as Props;
---

<Layout
	title={service.title}
	description={service.shortDescription}
>
	<section class="section">
		<div class="site-container">
			<!-- <p class="text-xs font-semibold uppercase tracking-wide text-[rgb(var(--color-muted))]">Leistung</p> -->
			<h1 class="mt-2 text-3xl font-semibold tracking-tight md:text-4xl">{service.title}</h1>
			<!-- <p class="mt-4 max-w-2xl text-base leading-7 text-[rgb(var(--color-muted))]">
				{service.shortDescription}
			</p> -->

			<div class="mt-10 grid gap-10 lg:grid-cols-3">
				<div class="lg:col-span-2">
					<!-- <h2 class="text-xl font-semibold">Wof√ºr ist das?</h2> -->
					<p class="mt-3 text-sm leading-6 text-[rgb(var(--color-muted))]">
						{service.description || service.shortDescription}
					</p>

					<h2 class="mt-10 text-xl font-semibold">Konkrete Leistungen</h2>
					<ul class="mt-4 space-y-3 text-sm text-[rgb(var(--color-muted))]">
						{service.bullets.map((b) => {
							if (typeof b === 'string') {
								// Einfacher Bullet-Point
								return (
									<li class="flex gap-3">
										<span class="mt-1 inline-block h-2 w-2 rounded-full bg-[rgb(var(--color-accent))]" />
										<span>{b}</span>
									</li>
								);
							} else {
								// Mit Unterpunkten
								return (
									<li class="space-y-2">
										<div class="flex gap-3">
											<span class="mt-1 inline-block h-2 w-2 rounded-full bg-[rgb(var(--color-accent))]" />
											<span>{b.title}</span>
										</div>
										{b.subItems && b.subItems.length > 0 && (
											<ul class="ml-5 space-y-1.5">
												{b.subItems.map((sub) => (
													<li class="flex gap-2">
														<span class="text-[rgb(var(--color-accent))]">-</span>
														<span>{sub}</span>
													</li>
												))}
											</ul>
										)}
									</li>
								);
							}
						})}
					</ul>
				</div>

				<aside class="card h-fit p-6">
					<h3 class="text-base font-semibold">Angebot anfordern</h3>
					<p class="mt-2 text-sm leading-6 text-[rgb(var(--color-muted))]">
						Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis.
					</p>
					<a class="btn btn-primary mt-6 w-full" href="/kontakt">
						{service.ctaLabel ?? 'Kontakt aufnehmen'}
					</a>

					<div class="mt-8 border-t border-black/10 pt-6">
						<p class="text-xs font-semibold uppercase tracking-wide text-[rgb(var(--color-muted))]">
							Hinweis
						</p>
						<p class="mt-2 text-sm leading-6 text-[rgb(var(--color-muted))]">
							Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet doming id quod
							mazim placerat facer possim assum.
						</p>
					</div>
				</aside>
			</div>
		</div>
	</section>
</Layout>


