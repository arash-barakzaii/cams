---
import Layout from '../layouts/Layout.astro';
import { company } from '../data/company';
import ContactForm from '../components/ContactForm.astro';

const success = Astro.url.searchParams.get('success') === '1';
---

<Layout title="Kontakt" description="Kontakt aufnehmen – wir melden uns zeitnah zurück.">
	<section class="section">
		<div class="site-container">
			<h1 class="text-3xl font-semibold tracking-tight md:text-4xl">Kontakt</h1>
			<p class="mt-3 max-w-2xl text-sm leading-6 text-[rgb(var(--color-muted))]">
				Wenn Sie ein Neubau- oder Sanierungsvorhaben technisch absichern möchten oder eine konkrete Fragestellung zu Bauphysik und Energieeffizienz haben, melden Sie sich gerne. Wir melden uns zeitnah mit einer fachlichen Einordnung und einem klaren Vorgehen.
			</p>

			{success && (
				<div class="card mt-8 border-[rgb(var(--color-accent))]/30 bg-[rgb(var(--color-accent))]/5 p-6">
					<div class="text-sm font-semibold">Danke – Nachricht wurde gesendet.</div>
					<p class="mt-2 text-sm leading-6 text-[rgb(var(--color-muted))]">
						Wir melden uns so schnell wie möglich zurück.
					</p>
				</div>
			)}

			<div class="mt-10 grid gap-10 lg:grid-cols-2">
				<div class="card p-6 lg:p-8">
					<ContactForm />
					<p class="mt-4 text-xs text-[rgb(var(--color-muted))]">
						Hinweis: Nach dem Senden leitet Formspree optional zurück auf diese Seite.
					</p>
				</div>

				<div>
					<div class="card p-6 lg:p-8">
						<h2 class="text-base font-semibold">Kontaktdaten</h2>
						<div class="mt-4 space-y-3 text-sm text-[rgb(var(--color-muted))]">
							<div>
								<div class="text-xs font-semibold uppercase tracking-wide text-[rgb(var(--color-text))]">
									Firma
								</div>
								<div class="mt-1">{company.name}</div>
							</div>
							<div>
								<div class="text-xs font-semibold uppercase tracking-wide text-[rgb(var(--color-text))]">
									Adresse
								</div>
								<div class="mt-1">
									{company.address.line1}<br />
									{company.address.postalCode} {company.address.city}<br />
									{company.address.country}
								</div>
							</div>
							<div>
								<div class="text-xs font-semibold uppercase tracking-wide text-[rgb(var(--color-text))]">
									Telefon
								</div>
								<div class="mt-1">
									<a class="no-underline hover:opacity-80" href={`tel:${company.contact.phoneHref}`}>
										{company.contact.phonec}
									</a><br>
									<a class="no-underline hover:opacity-80" href={`tel:${company.contact.phoneHref}`}>
										{company.contact.phonec}
									</a>
								</div>
							</div>
							<div>
								<div class="text-xs font-semibold uppercase tracking-wide text-[rgb(var(--color-text))]">
									E-Mail
								</div>
								<div class="mt-1">
									<a class="no-underline hover:opacity-80" href={`mailto:${company.contact.email}`}>
										{company.contact.email}
									</a>
								</div>
							</div>
							<div>
								<div class="text-xs font-semibold uppercase tracking-wide text-[rgb(var(--color-text))]">
									Bürozeiten
								</div>
								<div class="mt-1">{company.contact.officeHours}</div>
							</div>
						</div>
					</div>

					<div class="mt-6 card p-6 lg:p-8">
						<h2 class="text-base font-semibold">Standort</h2>
						<p class="mt-2 text-sm leading-6 text-[rgb(var(--color-muted))]">
							Google Maps wird später per 2‑Klick Lösung eingebunden.
						</p>
						<div class="mt-4 rounded-xl border border-black/10 bg-black/5 p-6 text-sm text-[rgb(var(--color-muted))]">
							Map-Platzhalter
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>
</Layout>